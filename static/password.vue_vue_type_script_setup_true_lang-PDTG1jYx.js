import{p as v}from"./index-Vt0RyUlt.js";import{E as b}from"./element-V6-G1TdP.js";import{l as V,r as w,ag as r,m as h,p as k,T as e,O as o,S as i}from"./vue-ZDMaqQfr.js";const E=V({name:"myPassword",__name:"password",setup(x){const l=w({old_password:"",new_password:""}),c={old_password:[{required:!0,message:"请输入原密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],new_password:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}]},t=w(null),f=()=>{var s;(s=t.value)==null||s.validate(a=>{if(a)v({old_password:l.value.old_password,new_password:l.value.new_password}).then(()=>{b.success("修改成功"),p()});else return!1})},p=()=>{var s;(s=t.value)==null||s.resetFields()};return(s,a)=>{const u=r("el-input"),m=r("el-col"),n=r("el-form-item"),_=r("el-button"),g=r("el-form");return h(),k("div",null,[e(g,{model:l.value,rules:c,"label-width":"80px",ref_key:"formRef",ref:t},{default:o(()=>[e(n,{minlength:6,label:"原密码",prop:"oldPassword"},{default:o(()=>[e(m,{span:12},{default:o(()=>[e(u,{"show-password":"",modelValue:l.value.old_password,"onUpdate:modelValue":a[0]||(a[0]=d=>l.value.old_password=d),placeholder:"原密码"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{minlength:6,label:"新密码",prop:"newPassword"},{default:o(()=>[e(m,{span:12},{default:o(()=>[e(u,{"show-password":"",modelValue:l.value.new_password,"onUpdate:modelValue":a[1]||(a[1]=d=>l.value.new_password=d),placeholder:"新密码"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,null,{default:o(()=>[e(_,{onClick:f,type:"primary"},{default:o(()=>[i("保存")]),_:1}),e(_,{onClick:p},{default:o(()=>[i("重置")]),_:1})]),_:1})]),_:1},8,["model"])])}}});export{E as _};
