import{aB as Qe,Z as Ye,r as D,b as Oe,E as ze,d as we,z as ye,l as F,m as d,p as E,R as B,u as b,ag as k,q as x,T as v,O as g,W as We,aC as Ze,P as ie,M as C,Q as A,aD as pe,aE as me,F as K,a2 as re,a7 as te,H as ue,e as T,S as j,a9 as je,I as U,aF as X,aG as Ne,w as de,c as Be,J as He,aH as ke,aI as Se,s as et,a8 as le,n as tt,aJ as nt,V as _e,U as he}from"./vue-ZDMaqQfr.js";import{g as ot,s as Ie,u as ge,_ as O,a as Ue,b as Q,c as Ce,d as at}from"./index-nlWAN4x3.js";import{f as se,h as st,j as lt,g as rt,k as ct,E as fe,l as it,n as qe,u as ut,r as dt,o as ft,p as vt,q as pt,s as mt}from"./element-V6-G1TdP.js";import{g as ce,r as _t,s as Ve}from"./index-q1rzTrQ-.js";import{_ as ht}from"./index.vue_vue_type_script_setup_true_lang-zGySp_3f.js";import"./vxe-SD4sv8pp.js";var G=(n=>(n[n.Mobile=0]="Mobile",n[n.Desktop=1]="Desktop",n))(G||{});const gt="opened",Ge="closed";function bt(n){n?Ie(gt):Ie(Ge)}const ne=Qe("app",()=>{const n=Ye({opened:ot()!==Ge,withoutAnimation:!1}),e=D(G.Desktop);return Oe(()=>n.opened,s=>bt(s)),{device:e,sidebar:n,toggleSidebar:s=>{n.opened=!n.opened,n.withoutAnimation=s},closeSidebar:s=>{n.opened=!1,n.withoutAnimation=s},toggleDevice:s=>{e.value=s}}}),wt=992,yt=()=>{const n=ne(),{listenerRouteChange:e}=ge(),t=()=>document.body.getBoundingClientRect().width-1<wt,o=()=>{if(!document.hidden){const a=t();n.toggleDevice(a?G.Mobile:G.Desktop),a&&n.closeSidebar(!0)}};e(()=>{n.device===G.Mobile&&n.sidebar.opened&&n.closeSidebar(!1)}),ze(()=>{window.addEventListener("resize",o)}),we(()=>{t()&&(n.toggleDevice(G.Mobile),n.closeSidebar(!0))}),ye(()=>{window.removeEventListener("resize",o)})},kt={defense:!0,color:"#c0c4cc",opacity:.5,size:16,family:"serif",angle:-20,width:300,height:200},Ae=D(document.body);function St(n=Ae){let e,t,o=null;const a={watermarkElMutationObserver:void 0,parentElMutationObserver:void 0,parentElResizeObserver:void 0},s=(f,y={})=>{if(!n.value){console.warn("请在 DOM 挂载完成后再调用 setWatermark 方法设置水印");return}e=f,t={...kt,...y},o?r():l(),c(n.value)},l=()=>{const f=n.value.tagName.toLowerCase()===Ae.value.tagName.toLowerCase(),y=f?"fixed":"absolute",M=f?"":"relative";o=document.createElement("div"),o.style.pointerEvents="none",o.style.top="0",o.style.left="0",o.style.position=y,o.style.zIndex="99999";const{clientWidth:V,clientHeight:I}=n.value;r({width:V,height:I}),n.value.style.position=M,n.value.appendChild(o)},r=(f={})=>{o&&(e&&(o.style.background=`url(${i()}) left top repeat`),f.width&&(o.style.width=`${f.width}px`),f.height&&(o.style.height=`${f.height}px`))},i=()=>{const{color:f,opacity:y,size:M,family:V,angle:I,width:z,height:H}=t,L=document.createElement("canvas");L.width=z,L.height=H;const P=L.getContext("2d");return P&&(P.fillStyle=f,P.globalAlpha=y,P.font=`${M}px ${V}`,P.rotate(Math.PI/180*I),P.fillText(e,0,H/2)),L.toDataURL()},m=()=>{if(!(!n.value||!o)){h();try{n.value.removeChild(o)}catch{console.warn("水印元素已不存在，请重新创建")}finally{o=null}}},u=se(()=>{m(),l(),c(n.value)},100),c=f=>{t.defense?!a.watermarkElMutationObserver&&!a.parentElMutationObserver&&w(f):h("mutation"),a.parentElResizeObserver||_(f)},h=(f="all")=>{var y,M,V;(f==="mutation"||f==="all")&&((y=a.watermarkElMutationObserver)==null||y.disconnect(),a.watermarkElMutationObserver=void 0,(M=a.parentElMutationObserver)==null||M.disconnect(),a.parentElMutationObserver=void 0),(f==="resize"||f==="all")&&((V=a.parentElResizeObserver)==null||V.disconnect(),a.parentElResizeObserver=void 0)},w=f=>{const y=se(M=>{M.forEach(se(V=>{switch(V.type){case"attributes":V.target===o&&u();break;case"childList":V.removedNodes.forEach(I=>{I===o&&f.appendChild(o)});break}},100))},100);a.watermarkElMutationObserver=new MutationObserver(y),a.parentElMutationObserver=new MutationObserver(y),a.watermarkElMutationObserver.observe(o,{attributes:!0,childList:!1,subtree:!1}),a.parentElMutationObserver.observe(f,{attributes:!1,childList:!0,subtree:!1})},_=f=>{const y=se(()=>{const{clientWidth:M,clientHeight:V}=f;r({width:M,height:V})},500);a.parentElResizeObserver=new ResizeObserver(y),a.parentElResizeObserver.observe(f)};return ye(()=>{m()}),{setWatermark:s,clearWatermark:m}}const Ct={class:"layout-footer"},xt=F({__name:"index",setup(n){const e="vue3-admin";return(t,o)=>(d(),E("footer",Ct,B(b(e)),1))}}),Et=O(xt,[["__scopeId","data-v-76382f24"]]),Mt={class:"app-main"},$t={class:"app-scrollbar"},Tt=F({__name:"AppMain",setup(n){const e=Ue(),t=Q();return(o,a)=>{const s=k("router-view"),l=k("el-backtop");return d(),E("section",Mt,[x("div",$t,[v(s,null,{default:g(({Component:r,route:i})=>[v(We,{name:"el-fade-in",mode:"out-in"},{default:g(()=>[(d(),C(Ze,{include:b(e).cachedViews},[(d(),C(ie(r),{key:i.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),b(t).showFooter?(d(),C(Et,{key:0})):A("",!0)]),v(l),v(l,{target:".app-scrollbar"})])}}}),xe=O(Tt,[["__scopeId","data-v-d87ee2cd"]]),Rt=F({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(n,{emit:e}){const t=n,o=e,a=()=>{o("toggleClick")};return(s,l)=>{const r=k("el-icon");return d(),E("div",{onClick:a},[v(r,{size:20,class:"icon"},{default:g(()=>[t.isActive?(d(),C(b(st),{key:0})):(d(),C(b(lt),{key:1}))]),_:1})])}}}),It=O(Rt,[["__scopeId","data-v-252d9bf8"]]);function Vt(n){for(var e=[],t=0;t<n.length;){var o=n[t];if(o==="*"||o==="+"||o==="?"){e.push({type:"MODIFIER",index:t,value:n[t++]});continue}if(o==="\\"){e.push({type:"ESCAPED_CHAR",index:t++,value:n[t++]});continue}if(o==="{"){e.push({type:"OPEN",index:t,value:n[t++]});continue}if(o==="}"){e.push({type:"CLOSE",index:t,value:n[t++]});continue}if(o===":"){for(var a="",s=t+1;s<n.length;){var l=n.charCodeAt(s);if(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||l===95){a+=n[s++];continue}break}if(!a)throw new TypeError("Missing parameter name at ".concat(t));e.push({type:"NAME",index:t,value:a}),t=s;continue}if(o==="("){var r=1,i="",s=t+1;if(n[s]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<n.length;){if(n[s]==="\\"){i+=n[s++]+n[s++];continue}if(n[s]===")"){if(r--,r===0){s++;break}}else if(n[s]==="("&&(r++,n[s+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(s));i+=n[s++]}if(r)throw new TypeError("Unbalanced pattern at ".concat(t));if(!i)throw new TypeError("Missing pattern at ".concat(t));e.push({type:"PATTERN",index:t,value:i}),t=s;continue}e.push({type:"CHAR",index:t,value:n[t++]})}return e.push({type:"END",index:t,value:""}),e}function At(n,e){e===void 0&&(e={});for(var t=Vt(n),o=e.prefixes,a=o===void 0?"./":o,s="[^".concat(Pt(e.delimiter||"/#?"),"]+?"),l=[],r=0,i=0,m="",u=function(L){if(i<t.length&&t[i].type===L)return t[i++].value},c=function(L){var P=u(L);if(P!==void 0)return P;var R=t[i],p=R.type,S=R.index;throw new TypeError("Unexpected ".concat(p," at ").concat(S,", expected ").concat(L))},h=function(){for(var L="",P;P=u("CHAR")||u("ESCAPED_CHAR");)L+=P;return L};i<t.length;){var w=u("CHAR"),_=u("NAME"),f=u("PATTERN");if(_||f){var y=w||"";a.indexOf(y)===-1&&(m+=y,y=""),m&&(l.push(m),m=""),l.push({name:_||r++,prefix:y,suffix:"",pattern:f||s,modifier:u("MODIFIER")||""});continue}var M=w||u("ESCAPED_CHAR");if(M){m+=M;continue}m&&(l.push(m),m="");var V=u("OPEN");if(V){var y=h(),I=u("NAME")||"",z=u("PATTERN")||"",H=h();c("CLOSE"),l.push({name:I||(z?r++:""),pattern:I&&!z?s:z,prefix:y,suffix:H,modifier:u("MODIFIER")||""});continue}c("END")}return l}function Lt(n,e){return Ft(At(n,e),e)}function Ft(n,e){e===void 0&&(e={});var t=Dt(e),o=e.encode,a=o===void 0?function(i){return i}:o,s=e.validate,l=s===void 0?!0:s,r=n.map(function(i){if(typeof i=="object")return new RegExp("^(?:".concat(i.pattern,")$"),t)});return function(i){for(var m="",u=0;u<n.length;u++){var c=n[u];if(typeof c=="string"){m+=c;continue}var h=i?i[c.name]:void 0,w=c.modifier==="?"||c.modifier==="*",_=c.modifier==="*"||c.modifier==="+";if(Array.isArray(h)){if(!_)throw new TypeError('Expected "'.concat(c.name,'" to not repeat, but got an array'));if(h.length===0){if(w)continue;throw new TypeError('Expected "'.concat(c.name,'" to not be empty'))}for(var f=0;f<h.length;f++){var y=a(h[f],c);if(l&&!r[u].test(y))throw new TypeError('Expected all "'.concat(c.name,'" to match "').concat(c.pattern,'", but got "').concat(y,'"'));m+=c.prefix+y+c.suffix}continue}if(typeof h=="string"||typeof h=="number"){var y=a(String(h),c);if(l&&!r[u].test(y))throw new TypeError('Expected "'.concat(c.name,'" to match "').concat(c.pattern,'", but got "').concat(y,'"'));m+=c.prefix+y+c.suffix;continue}if(!w){var M=_?"an array":"a string";throw new TypeError('Expected "'.concat(c.name,'" to be ').concat(M))}}return m}}function Pt(n){return n.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Dt(n){return n&&n.sensitive?"":"i"}const Ot={key:0,class:"no-redirect"},zt=["onClick"],Wt=F({__name:"index",setup(n){const e=pe(),t=me(),{listenerRouteChange:o}=ge(),a=D([]),s=()=>{a.value=e.matched.filter(i=>{var m,u;return((m=i.meta)==null?void 0:m.title)&&((u=i.meta)==null?void 0:u.breadcrumb)!==!1})},l=i=>Lt(i)(e.params),r=i=>{const{redirect:m,path:u}=i;if(m){t.push(m);return}t.push(l(u))};return o(i=>{i.path.startsWith("/redirect/")||s()},!0),(i,m)=>{const u=k("el-breadcrumb-item"),c=k("el-breadcrumb");return d(),C(c,{class:"app-breadcrumb"},{default:g(()=>[(d(!0),E(K,null,te(a.value,(h,w)=>(d(),C(u,{key:h.path},{default:g(()=>[h.redirect==="noRedirect"||w===a.value.length-1?(d(),E("span",Ot,B(h.meta.title),1)):(d(),E("a",{key:1,onClick:re(_=>r(h),["prevent"])},B(h.meta.title),9,zt))]),_:2},1024))),128))]),_:1})}}}),Nt=O(Wt,[["__scopeId","data-v-2eef2d12"]]),ve=n=>/^(https?:|mailto:|tel:)/.test(n),Bt=["href"],Ht=F({__name:"SidebarItemLink",props:{to:{}},setup(n){const e=n;return(t,o)=>{const a=k("router-link");return b(ve)(e.to)?(d(),E("a",{key:0,href:e.to,target:"_blank",rel:"noopener"},[ue(t.$slots,"default")],8,Bt)):(d(),C(a,{key:1,to:e.to},{default:g(()=>[ue(t.$slots,"default")]),_:3},8,["to"]))}}});function Y(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function Le(n,e){for(var t="",o=0,a=-1,s=0,l,r=0;r<=n.length;++r){if(r<n.length)l=n.charCodeAt(r);else{if(l===47)break;l=47}if(l===47){if(!(a===r-1||s===1))if(a!==r-1&&s===2){if(t.length<2||o!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var i=t.lastIndexOf("/");if(i!==t.length-1){i===-1?(t="",o=0):(t=t.slice(0,i),o=t.length-1-t.lastIndexOf("/")),a=r,s=0;continue}}else if(t.length===2||t.length===1){t="",o=0,a=r,s=0;continue}}e&&(t.length>0?t+="/..":t="..",o=2)}else t.length>0?t+="/"+n.slice(a+1,r):t=n.slice(a+1,r),o=r-a-1;a=r,s=0}else l===46&&s!==-1?++s:s=-1}return t}function Ut(n,e){var t=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+o:t+n+o:o}var ae={resolve:function(){for(var e="",t=!1,o,a=arguments.length-1;a>=-1&&!t;a--){var s;a>=0?s=arguments[a]:(o===void 0&&(o=process.cwd()),s=o),Y(s),s.length!==0&&(e=s+"/"+e,t=s.charCodeAt(0)===47)}return e=Le(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Y(e),e.length===0)return".";var t=e.charCodeAt(0)===47,o=e.charCodeAt(e.length-1)===47;return e=Le(e,!t),e.length===0&&!t&&(e="."),e.length>0&&o&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return Y(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var o=arguments[t];Y(o),o.length>0&&(e===void 0?e=o:e+="/"+o)}return e===void 0?".":ae.normalize(e)},relative:function(e,t){if(Y(e),Y(t),e===t||(e=ae.resolve(e),t=ae.resolve(t),e===t))return"";for(var o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var a=e.length,s=a-o,l=1;l<t.length&&t.charCodeAt(l)===47;++l);for(var r=t.length,i=r-l,m=s<i?s:i,u=-1,c=0;c<=m;++c){if(c===m){if(i>m){if(t.charCodeAt(l+c)===47)return t.slice(l+c+1);if(c===0)return t.slice(l+c)}else s>m&&(e.charCodeAt(o+c)===47?u=c:c===0&&(u=0));break}var h=e.charCodeAt(o+c),w=t.charCodeAt(l+c);if(h!==w)break;h===47&&(u=c)}var _="";for(c=o+u+1;c<=a;++c)(c===a||e.charCodeAt(c)===47)&&(_.length===0?_+="..":_+="/..");return _.length>0?_+t.slice(l+u):(l+=u,t.charCodeAt(l)===47&&++l,t.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(Y(e),e.length===0)return".";for(var t=e.charCodeAt(0),o=t===47,a=-1,s=!0,l=e.length-1;l>=1;--l)if(t=e.charCodeAt(l),t===47){if(!s){a=l;break}}else s=!1;return a===-1?o?"/":".":o&&a===1?"//":e.slice(0,a)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Y(e);var o=0,a=-1,s=!0,l;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var r=t.length-1,i=-1;for(l=e.length-1;l>=0;--l){var m=e.charCodeAt(l);if(m===47){if(!s){o=l+1;break}}else i===-1&&(s=!1,i=l+1),r>=0&&(m===t.charCodeAt(r)?--r===-1&&(a=l):(r=-1,a=i))}return o===a?a=i:a===-1&&(a=e.length),e.slice(o,a)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!s){o=l+1;break}}else a===-1&&(s=!1,a=l+1);return a===-1?"":e.slice(o,a)}},extname:function(e){Y(e);for(var t=-1,o=0,a=-1,s=!0,l=0,r=e.length-1;r>=0;--r){var i=e.charCodeAt(r);if(i===47){if(!s){o=r+1;break}continue}a===-1&&(s=!1,a=r+1),i===46?t===-1?t=r:l!==1&&(l=1):t!==-1&&(l=-1)}return t===-1||a===-1||l===0||l===1&&t===a-1&&t===o+1?"":e.slice(t,a)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Ut("/",e)},parse:function(e){Y(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var o=e.charCodeAt(0),a=o===47,s;a?(t.root="/",s=1):s=0;for(var l=-1,r=0,i=-1,m=!0,u=e.length-1,c=0;u>=s;--u){if(o=e.charCodeAt(u),o===47){if(!m){r=u+1;break}continue}i===-1&&(m=!1,i=u+1),o===46?l===-1?l=u:c!==1&&(c=1):l!==-1&&(c=-1)}return l===-1||i===-1||c===0||c===1&&l===i-1&&l===r+1?i!==-1&&(r===0&&a?t.base=t.name=e.slice(1,i):t.base=t.name=e.slice(r,i)):(r===0&&a?(t.name=e.slice(1,l),t.base=e.slice(1,i)):(t.name=e.slice(r,l),t.base=e.slice(r,i)),t.ext=e.slice(l,i)),r>0?t.dir=e.slice(0,r-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};ae.posix=ae;var qt=ae;const Ke=rt(qt),Gt={key:2},Kt=F({__name:"SidebarItem",props:{item:{},isCollapse:{type:Boolean,default:!1},isTop:{type:Boolean,default:!1},isFirstLevel:{type:Boolean,default:!0},basePath:{default:""}},setup(n){const e=n,t=T(()=>{var r;return(r=e.item.meta)==null?void 0:r.alwaysShow}),o=T(()=>{var r;return((r=e.item.children)==null?void 0:r.filter(i=>{var m;return!((m=i.meta)!=null&&m.hidden)}))??[]}),a=T(()=>o.value.length),s=T(()=>{const r=a.value;switch(!0){case r>1:return null;case r===1:return o.value[0];default:return{...e.item,path:""}}}),l=r=>{switch(!0){case ve(r):return r;case ve(e.basePath):return e.basePath;default:return Ke.resolve(e.basePath,r)}};return(r,i)=>{var w;const m=k("SvgIcon"),u=k("el-menu-item"),c=k("sidebar-item",!0),h=k("el-sub-menu");return(w=e.item.meta)!=null&&w.hidden?A("",!0):(d(),E("div",{key:0,class:U({"simple-mode":e.isCollapse&&!r.isTop,"first-level":e.isFirstLevel})},[!t.value&&s.value&&!s.value.children?(d(),E(K,{key:0},[s.value.meta?(d(),C(Ht,{key:0,to:l(s.value.path)},{default:g(()=>[v(u,{index:l(s.value.path)},je({default:g(()=>[s.value.meta.svgIcon?(d(),C(m,{key:0,name:s.value.meta.svgIcon},null,8,["name"])):s.value.meta.elIcon?(d(),C(ie(s.value.meta.elIcon),{key:1,class:"el-icon"})):A("",!0)]),_:2},[s.value.meta.title?{name:"title",fn:g(()=>[j(B(s.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):A("",!0)],64)):(d(),C(h,{key:1,index:l(e.item.path),teleported:""},{title:g(()=>{var _,f,y;return[(_=e.item.meta)!=null&&_.svgIcon?(d(),C(m,{key:0,name:e.item.meta.svgIcon},null,8,["name"])):(f=e.item.meta)!=null&&f.elIcon?(d(),C(ie(e.item.meta.elIcon),{key:1,class:"el-icon"})):A("",!0),(y=e.item.meta)!=null&&y.title?(d(),E("span",Gt,B(e.item.meta.title),1)):A("",!0)]}),default:g(()=>[e.item.children?(d(!0),E(K,{key:0},te(e.item.children,_=>(d(),C(c,{key:_.path,item:_,"is-collapse":e.isCollapse,"is-first-level":!1,"base-path":l(_.path)},null,8,["item","is-collapse","base-path"]))),128)):A("",!0)]),_:1},8,["index"]))],2))}}}),Jt=O(Kt,[["__scopeId","data-v-72444830"]]),Xt=F({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(n){const e=n,t=Q(),{layoutMode:o}=X(t);return(a,s)=>{const l=k("router-link");return d(),E("div",{class:U(["layout-logo-container",{collapse:e.collapse,"layout-mode-top":b(o)==="top"}])},[v(We,{name:"layout-logo-fade"},{default:g(()=>[e.collapse?(d(),C(l,{key:"collapse",to:"/"})):(d(),C(l,{key:"expand",to:"/"},{default:g(()=>[x("h2",{class:U(["site-logo ",b(o)!=="left"?"black":"write"])},"Admin",2)]),_:1}))]),_:1})],2)}}}),Ee=O(Xt,[["__scopeId","data-v-8ccf7e5f"]]),Qt=F({__name:"index",setup(n){Ne(p=>({"6b0c8def":P.value,"107d6799":R.value,"20cb7c3d":H.value,e6f2aab6:L.value,"0d93b4b8":z.value}));const e=ce("--v3-sidebar-menu-bg-color"),t=ce("--v3-sidebar-menu-text-color"),o=ce("--v3-sidebar-menu-active-text-color"),a=pe(),s=ne(),l=Ce(),r=Q(),{sidebar:i,device:m}=X(s),{layoutMode:u,showLogo:c}=X(r),h=T(()=>{const{meta:{activeMenu:p},path:S}=a;return p||S}),w=T(()=>!i.value.opened),_=T(()=>u.value==="left"),f=T(()=>u.value==="top"),y=T(()=>m.value===G.Mobile),M=T(()=>_.value&&c.value),V=T(()=>_.value?e:void 0),I=T(()=>_.value?t:void 0),z=T(()=>_.value?o:void 0),H=T(()=>u.value!=="top"?"var(--v3-sidebar-menu-item-height)":"var(--v3-navigationbar-height)"),L=T(()=>u.value!=="top"?"var(--v3-sidebar-menu-hover-bg-color)":"transparent"),P=T(()=>u.value!=="top"?"2px":"0px"),R=T(()=>u.value==="top"?"none":"block");return(p,S)=>{const N=k("el-menu"),$=k("el-scrollbar");return d(),E("div",{class:U({"has-logo":M.value})},[M.value?(d(),C(Ee,{key:0,collapse:w.value},null,8,["collapse"])):A("",!0),v($,{"wrap-class":"scrollbar-wrapper"},{default:g(()=>[v(N,{"default-active":h.value,collapse:w.value&&!f.value,"background-color":V.value,"text-color":I.value,"active-text-color":z.value,"unique-opened":!0,"collapse-transition":!1,mode:f.value&&!y.value?"horizontal":"vertical"},{default:g(()=>[(d(!0),E(K,null,te(b(l).routes,W=>(d(),C(Jt,{key:W.path,item:W,"base-path":W.path,"is-collapse":w.value,"is-top":f.value},null,8,["item","base-path","is-collapse","is-top"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),Me=O(Qt,[["__scopeId","data-v-d269455e"]]),Yt={class:"card-header"},Zt={class:"card-title"},jt={class:"card-time"},en={key:0,class:"card-avatar"},tn=["src"],nn={class:"card-body"},on=F({__name:"NotifyList",props:{list:{}},setup(n){const e=n;return(t,o)=>{const a=k("el-empty"),s=k("el-tag"),l=k("el-card");return e.list.length===0?(d(),C(a,{key:0})):(d(!0),E(K,{key:1},te(e.list,(r,i)=>(d(),C(l,{key:i,shadow:"never",class:"card-container"},{header:g(()=>[x("div",Yt,[x("div",null,[x("span",null,[x("span",Zt,B(r.title),1),r.extra?(d(),C(s,{key:0,type:r.status,effect:"plain",size:"small"},{default:g(()=>[j(B(r.extra),1)]),_:2},1032,["type"])):A("",!0)]),x("div",jt,B(r.datetime),1)]),r.avatar?(d(),E("div",en,[x("img",{src:r.avatar,width:"34"},null,8,tn)])):A("",!0)])]),default:g(()=>[x("div",nn,B(r.description??"No Data"),1)]),_:2},1024))),128))}}}),an=O(on,[["__scopeId","data-v-137655f9"]]),sn=[],ln=[],rn=[],cn={class:"notify"},un={class:"notify-history"},Fe=99,dn=350,fn=F({__name:"index",setup(n){const e=T(()=>o.value.reduce((s,l)=>s+l.list.length,0)),t=D("通知"),o=D([{name:"通知",type:"primary",list:sn},{name:"消息",type:"danger",list:ln},{name:"待办",type:"warning",list:rn}]),a=()=>{fe.success(`跳转到${t.value}历史页面`)};return(s,l)=>{const r=k("el-icon"),i=k("el-tooltip"),m=k("el-badge"),u=k("el-scrollbar"),c=k("el-tab-pane"),h=k("el-tabs"),w=k("el-button"),_=k("el-popover");return d(),E("div",cn,[v(_,{placement:"bottom",width:dn,trigger:"click"},{reference:g(()=>[v(m,{value:e.value,max:Fe,hidden:e.value===0},{default:g(()=>[v(i,{effect:"dark",content:"消息通知",placement:"bottom"},{default:g(()=>[v(r,{size:20},{default:g(()=>[v(b(ct))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:g(()=>[v(h,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=f=>t.value=f),class:"demo-tabs",stretch:""},{default:g(()=>[(d(!0),E(K,null,te(o.value,(f,y)=>(d(),C(c,{name:f.name,key:y},{label:g(()=>[j(B(f.name)+" ",1),v(m,{value:f.list.length,max:Fe,type:f.type},null,8,["value","type"])]),default:g(()=>[v(u,{height:"400px"},{default:g(()=>[v(an,{list:f.list},null,8,["list"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),x("div",un,[v(w,{link:"",onClick:a},{default:g(()=>[j("查看"+B(t.value)+"历史",1)]),_:1})])]),_:1})])}}}),vn=O(fn,[["__scopeId","data-v-50089150"]]),Pe=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Z=(()=>{if(typeof document>"u")return!1;const n=Pe[0],e={};for(const t of Pe)if((t==null?void 0:t[1])in document){for(const[a,s]of t.entries())e[n[a]]=s;return e}return!1})(),De={change:Z.fullscreenchange,error:Z.fullscreenerror};let q={request(n=document.documentElement,e){return new Promise((t,o)=>{const a=()=>{q.off("change",a),t()};q.on("change",a);const s=n[Z.requestFullscreen](e);s instanceof Promise&&s.then(a).catch(o)})},exit(){return new Promise((n,e)=>{if(!q.isFullscreen){n();return}const t=()=>{q.off("change",t),n()};q.on("change",t);const o=document[Z.exitFullscreen]();o instanceof Promise&&o.then(t).catch(e)})},toggle(n,e){return q.isFullscreen?q.exit():q.request(n,e)},onchange(n){q.on("change",n)},onerror(n){q.on("error",n)},on(n,e){const t=De[n];t&&document.addEventListener(t,e,!1)},off(n,e){const t=De[n];t&&document.removeEventListener(t,e,!1)},raw:Z};Object.defineProperties(q,{isFullscreen:{get:()=>!!document[Z.fullscreenElement]},element:{enumerable:!0,get:()=>document[Z.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Z.fullscreenEnabled]}});Z||(q={isEnabled:!1});const oe=q,pn=F({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(n){const e=n,t=D(!1),o=T(()=>t.value?e.exitTips:e.openTips),a=T(()=>t.value?"fullscreen-exit":"fullscreen"),s=()=>{const c=document.querySelector(e.element)||void 0;oe.isEnabled?oe.toggle(c):fe.warning("您的浏览器无法工作")},l=()=>{t.value=oe.isFullscreen};de(c=>{oe.on("change",l),c(()=>{oe.isEnabled&&oe.off("change",l)})});const r=D(!1),i=T(()=>r.value?"内容区复原":"内容区放大"),m=T(()=>r.value?"fullscreen-exit":"fullscreen"),u=()=>{document.body.className=r.value?"":"content-large",r.value=!r.value};return(c,h)=>{const w=k("SvgIcon"),_=k("el-tooltip"),f=k("el-dropdown-item"),y=k("el-dropdown-menu"),M=k("el-dropdown");return d(),E("div",null,[c.content?(d(),C(M,{key:1},{dropdown:g(()=>[v(y,null,{default:g(()=>[v(f,{onClick:u},{default:g(()=>[j(B(i.value),1)]),_:1}),v(f,{onClick:s,disabled:t.value},{default:g(()=>[j("内容区全屏")]),_:1},8,["disabled"])]),_:1})]),default:g(()=>[v(w,{name:m.value},null,8,["name"])]),_:1})):(d(),C(_,{key:0,effect:"dark",content:o.value,placement:"bottom"},{default:g(()=>[v(w,{name:a.value,onClick:s},null,8,["name"])]),_:1},8,["content"]))])}}}),Je=O(pn,[["__scopeId","data-v-9e7c36e4"]]),mn=["onMouseenter"],_n={class:"result-item-title"},hn=F({__name:"SearchResult",props:{modelValue:{},list:{},isPressUpOrDown:{type:Boolean}},emits:["update:modelValue"],setup(n,{expose:e,emit:t}){const o=n,a=t,s=Be(),l=D(0),r=T({get(){return o.modelValue},set(h){a("update:modelValue",h)}}),i=h=>{const w=h.name===r.value;return{background:w?"var(--el-color-primary)":"",color:w?"#fff":""}},m=h=>{o.isPressUpOrDown||(r.value=h.name)},u=()=>{l.value=Number((window.innerHeight*.4).toFixed(1))},c=h=>{var y;const w=(y=s==null?void 0:s.proxy)==null?void 0:y.$refs[`resultItemRef${h}`];if(!w)return 0;const f=w[0].offsetTop+128;return f>l.value?f-l.value:0};return ze(()=>{window.addEventListener("resize",u)}),we(()=>{u()}),ye(()=>{window.removeEventListener("resize",u)}),e({getScrollTop:c}),(h,w)=>{const _=k("SvgIcon");return d(),E("div",null,[(d(!0),E(K,null,te(h.list,(f,y)=>{var M,V,I;return d(),E("div",{key:y,ref_for:!0,ref:`resultItemRef${y}`,class:"result-item",style:He(i(f)),onMouseenter:z=>m(f)},[(M=f.meta)!=null&&M.svgIcon?(d(),C(_,{key:0,name:f.meta.svgIcon},null,8,["name"])):(V=f.meta)!=null&&V.elIcon?(d(),C(ie(f.meta.elIcon),{key:1,class:"el-icon"})):A("",!0),x("span",_n,B((I=f.meta)==null?void 0:I.title),1),r.value&&r.value===f.name?(d(),C(_,{key:2,name:"keyboard-enter"})):A("",!0)],44,mn)}),128))])}}}),gn=O(hn,[["__scopeId","data-v-7383ebb0"]]),$e=n=>(ke("data-v-3171d360"),n=n(),Se(),n),bn={class:"search-footer"},wn={class:"search-footer-item"},yn=$e(()=>x("span",null,"确认",-1)),kn={class:"search-footer-item"},Sn=$e(()=>x("span",null,"切换",-1)),Cn={class:"search-footer-item"},xn=$e(()=>x("span",null,"关闭",-1)),En={class:"search-footer-total"},Mn=F({__name:"SearchFooter",props:{total:{}},setup(n){const e=n,t=ne(),o=T(()=>t.device===G.Mobile);return(a,s)=>{const l=k("SvgIcon");return d(),E("div",bn,[o.value?A("",!0):(d(),E(K,{key:0},[x("span",wn,[v(l,{name:"keyboard-enter"}),yn]),x("span",kn,[v(l,{name:"keyboard-up"}),v(l,{name:"keyboard-down"}),Sn]),x("span",Cn,[v(l,{name:"keyboard-esc"}),xn])],64)),x("span",En,"共 "+B(e.total)+" 项",1)])}}}),$n=O(Mn,[["__scopeId","data-v-3171d360"]]),Tn=x("p",null,"搜索结果",-1),Rn=F({__name:"SearchModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,o=e,a=ne(),s=me(),l=D(null),r=D(null),i=D(null),m=D(""),u=et([]),c=D(void 0),h=D(!1),w=T(()=>a.device===G.Mobile?"80vw":"40vw"),_=T({get(){return t.modelValue},set(R){o("update:modelValue",R)}}),f=T(()=>it(Ce().routes)),y=se(()=>{var S;const R=M(f.value);u.value=R.filter(N=>{var $,W;return m.value?(W=($=N.meta)==null?void 0:$.title)==null?void 0:W.toLocaleLowerCase().includes(m.value.toLocaleLowerCase().trim()):!1});const p=(S=u.value)==null?void 0:S.length;c.value=p>0?u.value[0].name:void 0},500),M=(R,p=[])=>(R.forEach(S=>{p.push(S),S.children&&M(S.children,p)}),p),V=()=>{_.value=!1,setTimeout(()=>{m.value="",u.value=[]},200)},I=R=>{var S;if(!i.value)return;const p=i.value.getScrollTop(R);(S=r.value)==null||S.setScrollTop(p)},z=()=>{h.value=!0;const{length:R}=u.value;if(R===0)return;const p=u.value.findIndex(S=>S.name===c.value);if(p===0){const S=u.value[R-1].name;c.value===S&&R>1?(c.value=u.value[R-2].name,I(R-2)):(c.value=S,I(R-1))}else c.value=u.value[p-1].name,I(p-1)},H=()=>{h.value=!0;const{length:R}=u.value;if(R===0)return;const p=u.value.map(S=>S.name).lastIndexOf(c.value);if(p===R-1){const S=u.value[0].name;c.value===S&&R>1?(c.value=u.value[1].name,I(1)):(c.value=S,I(0))}else c.value=u.value[p+1].name,I(p+1)},L=()=>{var N;const{length:R}=u.value;if(R===0)return;const p=c.value,S=(N=u.value.find($=>$.name===p))==null?void 0:N.path;if(S&&ve(S)){window.open(S,"_blank","noopener, noreferrer");return}if(!p){fe.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");return}try{s.push({name:p})}catch{fe.error("该菜单有必填的动态参数，无法通过搜索进入");return}V()},P=()=>{h.value=!1};return(R,p)=>{const S=k("SvgIcon"),N=k("el-input"),$=k("el-empty"),W=k("el-dialog");return d(),C(W,{modelValue:_.value,"onUpdate:modelValue":p[2]||(p[2]=J=>_.value=J),onOpened:p[3]||(p[3]=J=>{var ee;return(ee=l.value)==null?void 0:ee.focus()}),onClosed:p[4]||(p[4]=J=>{var ee;return(ee=l.value)==null?void 0:ee.blur()}),onKeydown:[le(z,["up"]),le(H,["down"]),le(L,["enter"])],onKeyup:le(P,["up","down"]),"before-close":V,width:w.value,top:"5vh",class:"search-modal__private","append-to-body":""},{footer:g(()=>[v($n,{total:u.value.length},null,8,["total"])]),default:g(()=>[v(N,{ref_key:"inputRef",ref:l,modelValue:m.value,"onUpdate:modelValue":p[0]||(p[0]=J=>m.value=J),onInput:b(y),placeholder:"搜索菜单",size:"large",clearable:""},{prefix:g(()=>[v(S,{name:"search"})]),_:1},8,["modelValue","onInput"]),u.value.length===0?(d(),C($,{key:0,description:"暂无搜索结果","image-size":100})):(d(),E(K,{key:1},[Tn,v(b(qe),{ref_key:"scrollbarRef",ref:r,"max-height":"40vh",always:""},{default:g(()=>[v(gn,{ref_key:"searchResultRef",ref:i,modelValue:c.value,"onUpdate:modelValue":p[1]||(p[1]=J=>c.value=J),list:u.value,isPressUpOrDown:h.value,onClick:L},null,8,["modelValue","list","isPressUpOrDown"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),In=F({__name:"index",setup(n){const e=D(!1),t=()=>{e.value=!0};return(o,a)=>{const s=k("SvgIcon"),l=k("el-tooltip");return d(),E("div",null,[v(l,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:g(()=>[v(s,{name:"search",onClick:t})]),_:1}),v(Rn,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=r=>e.value=r)},null,8,["modelValue"])])}}}),Vn=O(In,[["__scopeId","data-v-dc5accb4"]]),An=n=>(ke("data-v-37438aa9"),n=n(),Se(),n),Ln={class:"navigation-bar"},Fn={class:"right-menu"},Pn={class:"right-menu-avatar"},Dn=An(()=>x("span",{style:{display:"block"}},"退出登录",-1)),On=F({__name:"index",setup(n){const e=me(),t=ne(),o=Q(),a=Ce(),{sidebar:s,device:l}=X(t),{layoutMode:r,showNotify:i,showThemeSwitch:m,showScreenfull:u,showSearchMenu:c}=X(o),h=T(()=>r.value==="top"),w=T(()=>l.value===G.Mobile),_=()=>{t.toggleSidebar(!1)},f=()=>{a.logout(),e.push("/login")},y=()=>{e.push("/setting")};return(M,V)=>{const I=k("el-avatar"),z=k("el-dropdown-item"),H=k("el-dropdown-menu"),L=k("el-dropdown");return d(),E("div",Ln,[!h.value||w.value?(d(),C(It,{key:0,"is-active":b(s).opened,class:"hamburger",onToggleClick:_},null,8,["is-active"])):A("",!0),!h.value||w.value?(d(),C(Nt,{key:1,class:"breadcrumb"})):A("",!0),h.value&&!w.value?(d(),C(Me,{key:2,class:"sidebar"})):A("",!0),x("div",Fn,[b(c)?(d(),C(Vn,{key:0,class:"right-menu-item"})):A("",!0),b(u)?(d(),C(Je,{key:1,class:"right-menu-item"})):A("",!0),b(m)?(d(),C(ht,{key:2,class:"right-menu-item"})):A("",!0),b(i)?(d(),C(vn,{key:3,class:"right-menu-item"})):A("",!0),v(L,{class:"right-menu-item"},{dropdown:g(()=>[v(H,null,{default:g(()=>[v(z,{onClick:y},{default:g(()=>[j(" 设置 ")]),_:1}),v(z,{divided:"",onClick:f},{default:g(()=>[Dn]),_:1})]),_:1})]),default:g(()=>{var P,R,p;return[x("div",Pn,[(R=(P=b(a).user)==null?void 0:P.avatar_file)!=null&&R.url?(d(),C(I,{key:0,src:b(a).user.avatar_file.url,size:30},null,8,["src"])):(d(),C(I,{key:1,icon:b(ut),size:30},null,8,["icon"])),x("span",null,B((p=b(a).user)==null?void 0:p.username),1)])]}),_:1})])])}}}),Te=O(On,[["__scopeId","data-v-37438aa9"]]),zn={class:"select-layout-mode"},Wn=F({__name:"SelectLayoutMode",setup(n){const e=Q(),{layoutMode:t}=X(e),o=T(()=>t.value==="left"),a=T(()=>t.value==="top"),s=T(()=>t.value==="left-top");return(l,r)=>{const i=k("el-aside"),m=k("el-header"),u=k("el-main"),c=k("el-container"),h=k("el-tooltip");return d(),E("div",zn,[v(h,{content:"左侧模式"},{default:g(()=>[v(c,{class:U(["layout-mode left",{active:o.value}]),onClick:r[0]||(r[0]=w=>t.value="left")},{default:g(()=>[v(i),v(c,null,{default:g(()=>[v(m),v(u)]),_:1})]),_:1},8,["class"])]),_:1}),v(h,{content:"顶部模式"},{default:g(()=>[v(c,{class:U(["layout-mode top",{active:a.value}]),onClick:r[1]||(r[1]=w=>t.value="top")},{default:g(()=>[v(m),v(u)]),_:1},8,["class"])]),_:1}),v(h,{content:"混合模式"},{default:g(()=>[v(c,{class:U(["layout-mode left-top",{active:s.value}]),onClick:r[2]||(r[2]=w=>t.value="left-top")},{default:g(()=>[v(m),v(c,null,{default:g(()=>[v(i),v(u)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),Nn=O(Wn,[["__scopeId","data-v-e7938886"]]),Xe=n=>(ke("data-v-317305d5"),n=n(),Se(),n),Bn={class:"setting-container"},Hn=Xe(()=>x("h4",null,"布局配置",-1)),Un=Xe(()=>x("h4",null,"功能配置",-1)),qn={class:"setting-name"},Gn=F({__name:"index",setup(n){const e=Q(),{layoutMode:t,showTagsView:o,showLogo:a,fixedHeader:s,showFooter:l,showNotify:r,showThemeSwitch:i,showScreenfull:m,showSearchMenu:u,cacheTagsView:c,showWatermark:h,showGreyMode:w,showColorWeakness:_}=X(e),f={显示标签栏:o,"显示 Logo":a,"固定 Header":s,"显示页脚 Footer":l,显示消息通知:r,显示切换主题按钮:i,显示全屏按钮:m,显示搜索按钮:u,是否缓存标签栏:c,开启系统水印:h,显示灰色模式:w,显示色弱模式:_};return de(()=>{t.value!=="left"&&(s.value=!0)}),(y,M)=>{const V=k("el-divider"),I=k("el-switch"),z=k("el-button");return d(),E("div",Bn,[Hn,v(Nn),v(V),Un,(d(),E(K,null,te(f,(H,L,P)=>x("div",{class:"setting-item",key:P},[x("span",qn,B(L),1),v(I,{modelValue:H.value,"onUpdate:modelValue":R=>H.value=R,disabled:b(t)!=="left"&&L==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),v(z,{type:"danger",icon:b(dt),onClick:b(_t)},{default:g(()=>[j("重 置")]),_:1},8,["icon","onClick"])])}}}),Kn=O(Gn,[["__scopeId","data-v-317305d5"]]),Jn={class:"scroll-container"},Xn=200,Qn=F({__name:"ScrollPane",props:{tagRefs:{}},setup(n){const e=n,t=pe(),o=Q(),{listenerRouteChange:a}=ge(),s=D(),l=D();let r=0;const i=({scrollLeft:w})=>{r=w},m=({deltaY:w})=>{/^-/.test(w.toString())?c("left"):c("right")},u=()=>{const w=l.value.clientWidth,_=s.value.wrapRef.clientWidth,f=w-_-r;return{scrollbarContentRefWidth:w,scrollbarRefWidth:_,lastDistance:f}},c=(w,_=Xn)=>{let f=0;const{scrollbarContentRefWidth:y,scrollbarRefWidth:M,lastDistance:V}=u();M>y||(w==="left"?f=Math.max(0,r-_):f=Math.min(r+_,r+V),s.value.setScrollLeft(f))},h=()=>{const w=e.tagRefs;for(let _=0;_<w.length;_++)if(t.path===w[_].$props.to.path){const f=w[_].$el,y=f.offsetWidth,M=f.offsetLeft,{scrollbarRefWidth:V}=u();if(M<r){const z=r-M;c("left",z);return}const I=V+r-y;if(M>I){const z=M-I;c("right",z);return}}};return a(()=>{tt(h)}),(w,_)=>{const f=k("el-icon");return d(),E("div",Jn,[v(f,{class:"arrow left",onClick:_[0]||(_[0]=y=>c("left"))},{default:g(()=>[v(b(ft))]),_:1}),v(b(qe),{ref_key:"scrollbarRef",ref:s,onWheelPassive:m,onScroll:i},{default:g(()=>[x("div",{ref_key:"scrollbarContentRef",ref:l,class:"scrollbar-content"},[ue(w.$slots,"default",{},void 0,!0)],512)]),_:3},512),v(f,{class:"arrow right",onClick:_[1]||(_[1]=y=>c("right"))},{default:g(()=>[v(b(vt))]),_:1}),b(o).showScreenfull?(d(),C(Je,{key:0,element:".app-main",content:!0,class:"screenfull"})):A("",!0)])}}}),Yn=O(Qn,[["__scopeId","data-v-519b3baa"]]),Zn={class:"tags-view-container"},jn=F({__name:"index",setup(n){const e=Be(),t=me(),o=pe(),a=Ue(),s=at(),{listenerRouteChange:l}=ge(),r=D([]),i=D(!1),m=D(0),u=D(0),c=D({});let h=[];const w=p=>p.path===o.path,_=p=>{var S;return(S=p.meta)==null?void 0:S.affix},f=(p,S="/")=>{const N=[];return p.forEach($=>{if(_($)){const W=Ke.resolve(S,$.path);N.push({fullPath:W,path:W,name:$.name,meta:{...$.meta}})}if($.children){const W=f($.children,$.path);N.push(...W)}}),N},y=()=>{h=f(s.routes);for(const p of h)p.name&&a.addVisitedView(p)},M=p=>{p.name&&(a.addVisitedView(p),a.addCachedView(p))},V=p=>{a.delCachedView(p),t.replace({path:"/redirect"+p.path,query:p.query})},I=p=>{a.delVisitedView(p),a.delCachedView(p),w(p)&&L(a.visitedViews,p)},z=()=>{const p=c.value.fullPath;p!==o.path&&p!==void 0&&t.push(p),a.delOthersVisitedViews(c.value),a.delOthersCachedViews(c.value)},H=p=>{a.delAllVisitedViews(),a.delAllCachedViews(),!h.some(S=>S.path===o.path)&&L(a.visitedViews,p)},L=(p,S)=>{const N=p.slice(-1)[0],$=N==null?void 0:N.fullPath;$!==void 0?t.push($):S.name==="Dashboard"?t.push({path:"/redirect"+S.path,query:S.query}):t.push("/")},P=(p,S)=>{const $=e.proxy.$el.getBoundingClientRect().left,J=e.proxy.$el.offsetWidth-105,ee=S.clientX-$+15;u.value=ee>J?J:ee,m.value=S.clientY,i.value=!0,c.value=p},R=()=>{i.value=!1};return Oe(i,p=>{p?document.body.addEventListener("click",R):document.body.removeEventListener("click",R)}),we(()=>{y(),l(async p=>{M(p)},!0)}),(p,S)=>{const N=k("el-icon");return d(),E("div",Zn,[v(Yn,{class:"tags-view-wrapper","tag-refs":r.value},{default:g(()=>[(d(!0),E(K,null,te(b(a).visitedViews,$=>(d(),C(b(nt),{ref_for:!0,ref_key:"tagRefs",ref:r,key:$.path,class:U([{active:w($)},"tags-view-item"]),to:{path:$.path,query:$.query},onMouseup:re(W=>!_($)&&I($),["middle"]),onContextmenu:re(W=>P($,W),["prevent"])},{default:g(()=>{var W;return[j(B((W=$.meta)==null?void 0:W.title)+" ",1),_($)?A("",!0):(d(),C(N,{key:0,size:12,onClick:re(J=>I($),["prevent","stop"])},{default:g(()=>[v(b(pt))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),_e(x("ul",{class:"contextmenu",style:He({left:u.value+"px",top:m.value+"px"})},[x("li",{onClick:S[0]||(S[0]=$=>V(c.value))},"刷新"),_(c.value)?A("",!0):(d(),E("li",{key:0,onClick:S[1]||(S[1]=$=>I(c.value))},"关闭")),x("li",{onClick:z},"关闭其它"),x("li",{onClick:S[2]||(S[2]=$=>H(c.value))},"关闭所有")],4),[[he,i.value]])])}}}),Re=O(jn,[["__scopeId","data-v-4a3992e4"]]),eo=F({__name:"index",props:{buttonTop:{default:350}},setup(n){Ne(a=>({eee8c778:t}));const t=n.buttonTop+"px",o=D(!1);return(a,s)=>{const l=k("el-icon"),r=k("el-drawer");return d(),E(K,null,[x("div",{class:"handle-button",onClick:s[0]||(s[0]=i=>o.value=!0)},[v(l,{size:24},{default:g(()=>[v(b(mt))]),_:1})]),v(r,{modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=i=>o.value=i),size:"300px","with-header":!1},{default:g(()=>[ue(a.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),to=O(eo,[["__scopeId","data-v-ec8bae57"]]),no=F({__name:"LeftMode",setup(n){const e=ne(),t=Q(),{showTagsView:o,fixedHeader:a}=X(t),s=T(()=>({hideSidebar:!e.sidebar.opened,openSidebar:e.sidebar.opened,withoutAnimation:e.sidebar.withoutAnimation,mobile:e.device===G.Mobile})),l=()=>{e.closeSidebar(!1)};return(r,i)=>(d(),E("div",{class:U([s.value,"app-wrapper"])},[s.value.mobile&&s.value.openSidebar?(d(),E("div",{key:0,class:"drawer-bg",onClick:l})):A("",!0),v(b(Me),{class:"sidebar-container"}),x("div",{class:U([{hasTagsView:b(o)},"main-container"])},[x("div",{class:U([{"fixed-header":b(a)},"layout-header"])},[v(b(Te)),_e(v(b(Re),null,null,512),[[he,b(o)]])],2),v(b(xe),{class:"app-main"})],2)],2))}}),oo=O(no,[["__scopeId","data-v-c751cae0"]]),ao={class:"app-wrapper"},so={class:"fixed-header layout-header"},lo={class:"content"},ro=F({__name:"TopMode",setup(n){const e=Q(),{showTagsView:t,showLogo:o}=X(e);return(a,s)=>(d(),E("div",ao,[x("div",so,[x("div",lo,[b(o)?(d(),C(b(Ee),{key:0,collapse:!1,class:"logo"})):A("",!0),v(b(Te),{class:"navigation-bar"})]),_e(v(b(Re),null,null,512),[[he,b(t)]])]),x("div",{class:U([{hasTagsView:b(t)},"main-container"])},[v(b(xe),{class:"app-main"})],2)]))}}),co=O(ro,[["__scopeId","data-v-5a9c676b"]]),io={class:"fixed-header layout-header"},uo={class:"content"},fo=F({__name:"LeftTopMode",setup(n){const e=ne(),t=Q(),{showTagsView:o,showLogo:a}=X(t),s=T(()=>({hideSidebar:!e.sidebar.opened}));return(l,r)=>(d(),E("div",{class:U([s.value,"app-wrapper"])},[x("div",io,[b(a)?(d(),C(b(Ee),{key:0,collapse:!1,class:"logo"})):A("",!0),x("div",uo,[v(b(Te)),_e(v(b(Re),null,null,512),[[he,b(o)]])])]),x("div",{class:U([{hasTagsView:b(o)},"main-container"])},[v(b(Me),{class:"sidebar-container"}),v(b(xe),{class:"app-main"})],2)],2))}}),vo=O(fo,[["__scopeId","data-v-73d109f7"]]),be="--v3-tagsview-height",po=F({__name:"index",setup(n){yt();const{setWatermark:e,clearWatermark:t}=St(),o=ne(),a=Q(),{showSettings:s,layoutMode:l,showTagsView:r,showWatermark:i,showGreyMode:m,showColorWeakness:u}=X(a),c=T(()=>({showGreyMode:m.value,showColorWeakness:u.value})),h=ce(be);return de(()=>{r.value?Ve(be,h):Ve(be,"0px")}),de(()=>{i.value?e("vue3-admin"):t()}),(w,_)=>(d(),E("div",{class:U(c.value)},[b(l)==="left"||b(o).device===b(G).Mobile?(d(),C(oo,{key:0})):b(l)==="top"?(d(),C(co,{key:1})):b(l)==="left-top"?(d(),C(vo,{key:2})):A("",!0),b(s)?(d(),C(b(to),{key:3},{default:g(()=>[v(b(Kn))]),_:1})):A("",!0)],2))}}),yo=O(po,[["__scopeId","data-v-45f3bd78"]]);export{yo as default};
